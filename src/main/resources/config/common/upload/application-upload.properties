# ============================================
# UPLOAD (Multipart) + Tomcat limites base
# ============================================
# Configurações para suportar arquivos grandes de importação (SIA, SIGTAP, CID10)
# Arquivos podem chegar a vários GB, então configuramos limites generosos

# Limite máximo por arquivo: 2GB
spring.servlet.multipart.max-file-size=2GB
# Limite máximo da requisição completa (arquivo + metadados): 2GB
spring.servlet.multipart.max-request-size=2GB
# Threshold para escrever em disco ao invés de memória: 10MB
spring.servlet.multipart.file-size-threshold=10MB
# Localização temporária para arquivos (vazio = sistema usa temp padrão)
spring.servlet.multipart.location=

# Tomcat: permite "engolir" requisições grandes sem erro (ilimitado)
server.tomcat.max-swallow-size=-1
# Tomcat: timeout de conexão aumentado para uploads longos (10 minutos)
server.tomcat.connection-timeout=600000
# Tomcat: timeout de keep-alive para conexões persistentes (10 minutos)
server.tomcat.keep-alive-timeout=600000
# Tomcat: tamanho máximo do POST HTTP (2GB) - CRÍTICO para evitar 413
server.tomcat.max-http-post-size=2147483647
# Tomcat: tamanho máximo do header HTTP (aumentado para metadados grandes)
server.tomcat.max-http-header-size=65536


