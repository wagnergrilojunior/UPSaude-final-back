# ============================================
# ACTUATOR / OBSERVABILIDADE (base)
# ============================================

management.endpoints.web.exposure.include=*

management.endpoint.health.show-details=never
management.endpoint.health.probes.enabled=true
management.health.defaults.enabled=true
management.health.diskspace.enabled=true
management.health.ping.enabled=true
management.health.db.enabled=false
management.health.redis.enabled=true
management.health.redis.timeout=1000ms

management.endpoint.health.group.liveness.include=ping
management.endpoint.health.group.readiness.include=db
management.endpoint.health.group.default.include=ping

management.endpoints.web.base-path=/actuator
management.endpoint.health.timeout=2000ms

management.info.env.enabled=true
management.info.build.enabled=true
management.info.git.enabled=true

management.metrics.tags.application=UPSaude
management.metrics.tags.environment=${spring.profiles.active:default}

management.metrics.jvm.enabled=true
management.metrics.jvm.memory.enabled=true
management.metrics.jvm.gc.enabled=true
management.metrics.jvm.threads.enabled=true
management.metrics.jvm.classes.enabled=true

management.metrics.web.server.auto-time-requests=true
management.metrics.web.server.request.autotime.enabled=true

management.metrics.jdbc.datasource.enabled=false
management.metrics.jdbc.datasource.metric-name=hikari

management.metrics.cache.enabled=true

management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.sla.http.server.requests=100ms,200ms,500ms,1s,2s,5s
management.metrics.distribution.percentiles.http.server.requests=0.5,0.9,0.95,0.99

management.endpoint.loggers.enabled=true
management.endpoint.threaddump.enabled=true
management.endpoint.httpexchanges.enabled=true
management.httpexchanges.recording.enabled=true

management.endpoint.logfile.enabled=true

# Logs em arquivo (profiles podem sobrescrever)
logging.file.name=logs/upsaude.log
logging.file.path=logs
logging.file.max-size=10MB
logging.file.max-history=30
logging.file.total-size-cap=300MB
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.console=%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr([%thread]){magenta} %clr(%-5level){blue} %clr(%logger{36}){cyan} - %msg%n


