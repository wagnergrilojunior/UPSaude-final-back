# ============================================
# PROD - JPA / HIBERNATE
# ============================================

# Configuração JPA para produção
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
# IMPORTANTE: Desabilitar open-in-view para evitar manter conexões abertas durante requisições HTTP
spring.jpa.open-in-view=false
# Permite que o Hibernate continue mesmo com erros de DDL (para conversões de tipo que requerem USING)
spring.jpa.properties.hibernate.tool.schema.halt_on_error=false
# Configurações para gerenciamento de transações e prepared statements
spring.jpa.properties.hibernate.connection.provider_disables_autocommit=false
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
# Configurações de Performance do Hibernate
# Batch fetch size: otimiza lazy loading carregando múltiplos relacionamentos em uma única query
spring.jpa.properties.hibernate.default_batch_fetch_size=25
# JDBC fetch size: otimiza queries paginadas reduzindo round-trips ao banco
spring.jpa.properties.hibernate.jdbc.fetch_size=50

