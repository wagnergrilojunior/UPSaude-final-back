# ============================================
# PROFILE: TEST (arquivo curto)
# ============================================
# Configurações para testes de regressão

# Datasource base
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.url=jdbc:postgresql://aws-1-sa-east-1.pooler.supabase.com:6543/postgres?sslmode=require&prepareThreshold=0
spring.datasource.username=postgres.pririvdtylilyrtfbmmv
spring.datasource.password=nu3ZmC8pChEm82Xi

# Datasource API (obrigatório)
spring.datasource.api.url=jdbc:postgresql://aws-1-sa-east-1.pooler.supabase.com:6543/postgres?sslmode=require&prepareThreshold=0
spring.datasource.api.username=postgres.pririvdtylilyrtfbmmv
spring.datasource.api.password=nu3ZmC8pChEm82Xi
spring.datasource.api.driver-class-name=org.postgresql.Driver

# Datasource JOB (obrigatório)
spring.datasource.job.url=jdbc:postgresql://aws-1-sa-east-1.pooler.supabase.com:6543/postgres?sslmode=require&prepareThreshold=0
spring.datasource.job.username=postgres.pririvdtylilyrtfbmmv
spring.datasource.job.password=nu3ZmC8pChEm82Xi
spring.datasource.job.driver-class-name=org.postgresql.Driver

# Pool de conexões HikariCP
spring.datasource.hikari.leak-detection-threshold=30000
spring.datasource.hikari.pool-name=UpSaudeHikariPool-Test
spring.datasource.hikari.connection-test-query=SELECT 1
spring.datasource.hikari.initialization-fail-timeout=1

# Desabilitar Flyway em testes (opcional, se necessário)
# spring.flyway.enabled=false

# Cache para testes (usar cache simples em memória)
spring.cache.type=simple

# Actuator - Health checks para testes
management.health.db.enabled=true
management.health.redis.enabled=false
management.endpoint.health.group.readiness.include=db
management.endpoint.health.group.liveness.include=ping
management.endpoint.health.group.default.include=ping
management.endpoint.health.timeout=10000ms

# Logging para testes
logging.level.com.upsaude=DEBUG
logging.level.org.springframework.web=DEBUG

# Configurações do Supabase para testes
supabase.url=https://pririvdtylilyrtfbmmv.supabase.co
supabase.anon-key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InByaXJpdmR0eWxpbHlydGZibW12Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM3NDk3OTYsImV4cCI6MjA3OTMyNTc5Nn0.QFu4AzIltRfXba3gg4u_DBuOf-r55KhoCuwbBuO2ULw
supabase.service-role-key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InByaXJpdmR0eWxpbHlydGZibW12Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2Mzc0OTc5NiwiZXhwIjoyMDc5MzI1Nzk2fQ.6VaENvPSOSUTOQ3aRPPre8tGJ8ktme_5CU5hravHdsU
